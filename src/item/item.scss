@import '../../variables';
@import '../../shared/clickable';
@import '../../shared/clickable/style';

:host {
    --bg-color: var(--item-bg-color, transparent);
    --bg-color-hover: var(--item-bg-color-hover, var(--bg-overlay));
    --bg-color-disabled: var(--item-bg-color-disabled, transparent);
    --b-color-active: var(--item-b-color-active);
    --bg-disabled: var(--item-bg-disabled);
    --f-size: var(--item-f-size, 1rem);
    --f-color: var(--item-f-color, inherit);
    --size: var(--item-size, 3rem);
    --py: var(--item-py, .875rem);
    --px: var(--item-px, 1.25rem);
    --icon-size: var(--item-icon-size, 2rem);
    --start-spacing: var(--item-start-spacing, 0 .5rem 0 -.5rem);
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    width: 100%;
    font-size: var(--f-size);
    color: var(--f-color);
}

[part=master] {
    padding-left: var(--px);
    line-height: 1.3;
    border: 0;
}

[part=body] {
    display: flex;
    padding: var(--py) 0;
    text-align: left;
    flex-direction: column;
    justify-content: space-between;
    flex: 1;
    min-width: 0;
}

:host([type=button]) {
    ::slotted(m-check) {
        --check-position: static;
    }
}

:host(.lined:not(:last-of-type)) {
    [part=master] {
        border-bottom: 1px solid var(--b-fadest);
    }
}

:host(.indent-lined:not(:last-of-type)) {
    [part=lower] {
        border-bottom: 1px solid var(--b-fadest);
    }

    [part=body] {
        padding-top: calc(var(--py) + 1px);
        padding-bottom: calc(var(--py) - 1px);
    }
}

:host(.sm) {
    --f-size: .9125rem;
    --size: 2.5rem;
    --px: 1.125rem;
    --py: .6875rem;
    --icon-size: 1.625rem;
    --start-spacing: var(--item-start-spacing, 0 .5rem 0 -.25rem);
}

:host(.xs) {
    --f-size: .9125rem;
    --size: 2rem;
    --px: 1rem;
    --py: .5rem;
    --icon-size: 1.25rem;
    --start-spacing: var(--item-start-spacing, 0 .5rem 0 -.125rem);
}

:host(.xxs) {
    --f-size: 0.8125rem;
    --size: 1.5rem;
    --px: 1rem;
    --py: 0.375rem;
    --icon-size: 1.25rem;
    --start-spacing: var(--item-start-spacing, 0 0.5rem 0 -.125rem);
}

:host([active]) {
    font-weight: 500;
}

@media (any-hover: hover) {
    :host(:not([disabled])) {
        a[part=master]:hover,
        button[part=master]:hover {
            background-color: var(--bg-color-hover);
        }
    }
}

:host([disabled]) {
    background-color: var(--bg-color-disabled) !important;

    ::slotted(*) {
        color: var(--f-fadest) !important;
    }

    ::slotted(m-img) {
        opacity: .25;
        filter: grayscale(1);
    }
}

[part=lower] {
    width: 100%;
    min-width: 0;
    flex-wrap: nowrap;
    flex: 1 1 auto;
    padding-right: var(--px);
    box-sizing: border-box;
}

slot[name=end],
slot[name=start],
[part=lower] {
    display: flex;
    contain: style;
}

slot[name=start] {
    text-align: center;
    white-space: nowrap;
    align-items: center;
    justify-content: center;
    min-height: var(--size);
    font-size: 1.125rem;
}

slot[name=end] {
    color: var(--f-fade);
    align-items: center;
    white-space: nowrap;

    &::slotted(*) {
        margin-left: calc(var(--px) / 2);
    }

    &::slotted(m-check) {
        margin-right: calc(var(--px) / -4);
    }
}

slot[name=start]::slotted(*) {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: var(--start-spacing);
    object-fit: contain;
    height: var(--icon-size);
    width: var(--icon-size);
}

slot[name=img]::slotted(*) {
    object-fit: cover;
    margin: calc(var(--px) / 2);
    margin-right: calc(var(--px) / -2);
    border-radius: $xxs;
}